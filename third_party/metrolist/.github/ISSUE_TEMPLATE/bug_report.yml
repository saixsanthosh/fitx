name: Bug report
description: Create a bug report to help us improve
labels: [bug]
body:
  - type: markdown
    attributes:
      value: |
        ## ⚠️ IMPORTANT WARNING

        **Duplicate or incomplete issues will be closed immediately without any response from developers.**

        - Check existing issues before opening a new one
        - All required checkboxes below must be checked
        - Duplicate issues will be closed instantly with no response

  - type: checkboxes
    id: checklist
    attributes:
      label: "⚠️ Checklist - Required"
      description: |
        **READ CAREFULLY:** You must complete these checks before submitting. Failing to do so will result in your issue being closed immediately without any response from developers.

        **Duplicate issues = Instant closure with no response**
      options:
        - label: " I am able to reproduce the bug with the [latest debug version](https://github.com/MetrolistGroup/Metrolist/actions/workflows/build.yml?query=branch%3Amain)."
          required: true
        - label: " I've checked that there is NO open or closed issue about this bug. (Duplicate issues will be closed immediately without response)"
          required: true
        - label: " This issue contains only ONE bug. PLEASE check pinned issues before opening a new one."
          required: true
        - label: " The title of this issue accurately describes the bug."
          required: true
        - label: " The entire issue report is written/translated in English."
          required: true

  - type: markdown
    attributes:
      value: |
        ---
        ## Bug Details

  - type: textarea
    id: reproduce-steps
    attributes:
      label: Steps to reproduce the bug
      description: What did you do for the bug to show up?
      placeholder: |
        Example:
          1. Go to '...'
          2. Click on '....'
          3. Scroll down to '....'
          4. See error
    validations:
      required: true

  - type: textarea
    id: expected-behavior
    attributes:
      label: Expected behavior
      placeholder: |
        Example:
          "This should happen..."
    validations:
      required: true

  - type: textarea
    id: actual-behavior
    attributes:
      label: Actual behavior
      placeholder: |
        Example:
          "This happened instead..."
    validations:
      required: true

  - type: textarea
    id: sreen-media
    attributes:
      label: Screenshots/Screen recordings
      description: |
        A picture or video helps us understand the bug more.

        You can upload them directly in the text box.

  - type: markdown
    attributes:
      value: |
        ## How to create a logcat recording

        ### Firstly, download and install these apps
        - [F0x1d/LogFox](https://github.com/F0x1d/LogFox/releases/download/v2.1.9-78/LogFox-2.1.9-release.apk)
        - [thedjchi/Shizuku](https://github.com/thedjchi/Shizuku/releases/download/v13.6.0.r1318-thedjchi/shizuku-v13.6.0.r1318-thedjchi.apk)

        ### Then follow these instructions
        1. Open **Shizuku**, and click on the "View command" button
        2. Copy the command and run it on your computer (see ADB setup below if needed)
        3. Once Shizuku is running, open **LogFox** and start a recording
        4. Open the app and reproduce the bug you're experiencing
        5. When finished, press **Export** in LogFox and attach the file to your comment
        6. Stop the process by pressing **Exit** in the LogFox notification
        7. Stop Shizuku (unless you're using it for other apps)

        ### Or the video guide
        https://github.com/user-attachments/assets/30659a03-39d5-4400-b681-4238c608aebd

        > [!IMPORTANT]
        > **If you're reporting an immediate crash** issue, you should allow LogFox notification permissions on launch. Then open the app and look for a crash report notification from LogFox. 

        > [!TIP]
        > If you export the recording as a zip file, upload it to https://litterbox.catbox.moe (set expiration to 3 days).

  - type: textarea
    id: logs
    attributes:
      label: Logs
      description: |
        Please read the instructions above on how to create a logcat recording. Logs are crucial for us to understand and fix the bug. Issues without logs might be closed immediately.
    validations:
      required: true

  - type: input
    id: app-version
    attributes:
      label: Metrolist version
      description: |
        You can find your Metrolist version in **Settings**.
      placeholder: |
        Example: "13.1.1"
    validations:
      required: true

  - type: input
    id: android-version
    attributes:
      label: Android version
      description: |
        You can find this in Android Settings > About Phone.
      placeholder: |
        Example: "Android 12"
    validations:
      required: true

  - type: textarea
    id: additional-information
    attributes:
      label: Additional information
      placeholder: |
        Additional details and attachments.
